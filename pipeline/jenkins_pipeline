#!groovy
properties ([disableConcurrentBuilds()])


pipeline {
    agent any

    stages {
        stage ('Tomcat install'){
            steps{
                ansiColor('xterm') {
                     ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/tomcat_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }

        stage ('Jenkins install'){
            steps{
                 ansiColor('xterm') {
                    ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/jenkins_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }   

        stage ('Java install'){
            steps{
                 ansiColor('xterm') {
                    ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/java_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }

        stage ('WildFly install'){
            steps{
                 ansiColor('xterm') {
                    ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/wildfly_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }

        stage ('Liferay install'){
            steps{
                 ansiColor('xterm') {
                    ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/liferay_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }

        stage ('Postgresql install'){
            steps{
                 ansiColor('xterm') {
                    ansiblePlaybook(
                        playbook: '/root/.jenkins/workspace/My Pipeline/postgresql_install.yml',
                        inventory: '/root/.jenkins/workspace/My Pipeline/hosts',
                        colorized: true)
                }
            }
        }
    }
}
